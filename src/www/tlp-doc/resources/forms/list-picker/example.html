<div class="tlp-form-element">
    <label class="tlp-label" for="list-picker-sb">Filterable ListPicker</label>
    <select id="list-picker-sb" name="list-value">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <script type="text/javascript">
        import { createListPicker } from "@tuleap/list-picker";

        createListPicker(document.querySelector('#list-picker-sb'), {
            locale: "en_US",
            placeholder: "Choose a value in the list",
            is_filterable: true
        });
    </script>
</div>

<div class="tlp-form-element">
    <label class="tlp-label" for="list-picker-sb-with-optgroups">Filterable ListPicker with grouped options</label>
    <select id="list-picker-sb-with-optgroups" name="list-value">
        <option value=""></option>
        <optgroup label="4x areas">
            <option value="area-46" selected>Area 46</option>
            <option value="area-49">Area 49</option>
        </optgroup>
        <optgroup label="5x areas">
            <option value="area-51">Area 51</option>
            <option value="area-52">Area 52</option>
            <option value="area-53" disabled>Area 53</option>
            <option value="area-54">Area 54</option>
            <option value="area-55">Area 55</option>
            <option value="area-58">Area 59</option>
        </optgroup>
    </select>
    <script type="text/javascript">
        import { createListPicker } from "@tuleap/list-picker";

        createListPicker(document.querySelector('#list-picker-sb-with-optgroups'), {
            placeholder: "Choose a value in the list",
            is_filterable: true
        });
    </script>
</div>

<div class="tlp-form-element tlp-form-element-disabled">
    <label class="tlp-label" for="list-picker-sb-disabled">ListPicker disabled</label>
    <select id="list-picker-sb-disabled"
            name="list-value"
            disabled
    >
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <script type="text/javascript">
        import { createListPicker } from "@tuleap/list-picker";

        createListPicker(document.querySelector('#list-picker-sb-disabled'), {
            placeholder: "You can't choose any value yet"
        });
    </script>
</div>

<div class="tlp-form-element tlp-form-element-error">
    <label class="tlp-label" for="list-picker-sb-error">ListPicker error <i class="fas fa-asterisk" aria-hidden="true"></i></label>
    <select id="list-picker-sb-error"
            name="list-value"
    >
        <option value="" disabled selected></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <p class="tlp-text-danger">This field is mandatory, please choose a value in the list.</p>
    <script type="text/javascript">
        import { createListPicker } from "@tuleap/list-picker";

        createListPicker(document.querySelector('#list-picker-sb-error'), {
            placeholder: "Choose a value in the list"
        });
    </script>
</div>

<div class="tlp-form-element">
    <label class="tlp-label" for="list-picker-sb-avatars">ListPicker with custom items templates</label>
    <select id="list-picker-sb-avatars" name="list-value">
        <option value=""></option>
        <optgroup label="Lannisters">
            <option value="101" selected>Tyrion</option>
            <option value="102">Jaime</option>
            <option value="103" disabled>Tywin</option>
            <option value="104">Cersei</option>
        </optgroup>
        <optgroup label="Stark">
            <option value="105">Sansa</option>
            <option value="106">Arya</option>
            <option value="107">Bran</option>
            <option value="108" disabled>Eddard</option>
        </optgroup>
    </select>
    <script type="text/javascript">
        import { createListPicker } from "@tuleap/list-picker";

        createListPicker(document.querySelector('#list-picker-sb-avatars'), {
            placeholder: "Choose a GoT character",
            is_filterable: true,
            items_template_formatter: (html, value_id, option_label) => {
                if (value_id === "103" || value_id === "108") {
                    return html`<i class="fas fa-fw fa-user-slash"></i> ${option_label}`;
                }
                return html`<i class="fas fa-fw fa-user"></i> ${option_label}`;
            },
        });
    </script>
</div>
