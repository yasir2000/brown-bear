<div class="tlp-framed-horizontally">
    <section class="tlp-pane">
        <div class="tlp-pane-container">
            <div class="tlp-pane-header">
                <h1 class="tlp-pane-title">
                    {{# gettext }}Services{{/ gettext }}
                </h1>
            </div>
            <section class="tlp-pane-section" id="project-admin-services">
                <div class="tlp-table-actions">
                    <button
                       id="project-admin-services-add-button"
                       type="button"
                       class="tlp-button-primary tlp-table-actions-element"
                    >
                        <i class="tlp-button-icon fas fa-plus"></i>
                        {{# gettext }}Add a new service{{/ gettext }}
                    </button>
                </div>
                <table class="tlp-table">
                    <thead>
                        <tr>
                            <th>{{# gettext }}Label{{/ gettext }}</th>
                            {{# is_default_template }}
                                <th>{{# gettext }}Inherited?{{/ gettext }}</th>
                            {{/ is_default_template }}
                            <th>{{# gettext }}Enabled?{{/ gettext }}</th>
                            {{# is_default_template }}
                                <th>{{# gettext }}Scope{{/ gettext }}</th>
                            {{/ is_default_template }}
                            <th class="tlp-table-cell-numeric">{{# gettext }}Rank{{/ gettext }}</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        {{# services }}
                            <tr>
                                <td title="{{ description }}">
                                    {{# icon }}<i class="{{ icon }} project-admin-services-icon" aria-hidden="true"></i>{{/icon}}
                                    {{ label }}
                                </td>
                                {{# is_default_template }}
                                    <td>{{# is_active }}<i class="fas fa-check"></i>{{/ is_active }}</td>
                                {{/ is_default_template }}
                                <td>{{# is_used }}<i class="fas fa-check"></i>{{/ is_used }}</td>
                                {{# is_default_template }}
                                    <td>{{ scope }}</td>
                                {{/ is_default_template }}
                                <td class="tlp-table-cell-numeric">{{ rank }}</td>

                                <td class="tlp-table-cell-actions">
                                    <button
                                        type="button"
                                        class="tlp-table-cell-actions-button
                                            tlp-button-small
                                            tlp-button-primary
                                            tlp-button-outline
                                            project-admin-services-edit-button
                                        "
                                        data-test="edit-service-{{ short_name }}"
                                        {{# service_json }}data-service-json="{{ service_json }}"{{/ service_json }}
                                    >
                                        <i class="fas fa-pencil-alt tlp-button-icon"></i> {{# gettext }}Edit{{/ gettext }}
                                    </button>
                                    <button class="tlp-table-cell-actions-button
                                                tlp-button-small
                                                tlp-button-danger
                                                tlp-button-outline
                                                {{^ can_be_deleted }}
                                                    tlp-tooltip
                                                    tlp-tooltip-left
                                                {{/ can_be_deleted }}
                                                project-admin-services-delete-button
                                            "
                                            data-target-modal-id="project-admin-services-delete-modal"
                                            data-service-label="{{ label }}"
                                            data-service-id="{{ id }}"
                                        {{^ can_be_deleted }}
                                            disabled
                                            data-tlp-tooltip="{{# gettext }}
                                                    This is a system service, you cannot delete it.
                                                {{/ gettext }}"
                                        {{/ can_be_deleted }}
                                    >
                                        <i class="far fa-trash-alt tlp-button-icon"></i> {{# gettext }}Delete{{/ gettext }}
                                    </button>
                                </td>
                            </tr>
                        {{/ services }}
                    </tbody>
                </table>
                {{> services-delete-modal }}
                <div id="service-add-modal"
                     data-project-id="{{ project_id }}"
                     data-minimal-rank="{{ minimal_rank }}"
                     data-csrf-token-name="{{ csrf_token_name }}"
                     data-csrf-token="{{ csrf_token }}"
                     data-allowed-icons="{{ allowed_icons }}"
                 ></div>
                <div id="service-edit-modal"
                     data-project-id="{{ project_id }}"
                     data-minimal-rank="{{ minimal_rank }}"
                     data-csrf-token-name="{{ csrf_token_name }}"
                     data-csrf-token="{{ csrf_token }}"
                     data-allowed-icons="{{ allowed_icons }}"
                ></div>
            </section>
        </div>
    </section>
</div>
