{{> register-form-start }}

    {{# prefill_values }}
    <div class="fields">
        {{# form_pw }}
            {{# has_error }}
                <div class="control-group error">
                    <div class="controls">
            {{/has_error }}
                        <input type="text" value="" placeholder="{{ new_password }} *" id="form_pw" name="form_pw" required data-password-validators="{{ json_password_strategy_keys }}" />
                        <button class="btn" id="form_pw_generate" type="button">{{# gettext }}Generate{{/ gettext }}</button>
            {{# has_error }}
                        <span class="help-inline">{{ error }}</span>
                    </div>
                </div>
            {{/has_error }}
        {{/ form_pw }}
        {{> register-choose-password }}
    </div>

    <div class="fields">
        {{# form_realname }}
            {{# has_error }}
                <div class="control-group error">
                    <div class="controls">
            {{/ has_error }}
                        <input type="text" name="form_realname" placeholder="{{ realname }} *" value="{{ value }}" required="required" />
            {{# has_error }}
                        <span class="help-inline">{{ error }}</span>
                    </div>
                </div>
            {{/has_error }}
        {{/ form_realname }}

        <div class="datetimepicker input-prepend">
            <span class="add-on">
                <i data-date-icon="fas fa-calendar-alt"></i>
            </span>
            <input data-format="yyyy-MM-dd" type="text" id="form_expiry" name="form_expiry" placeholder="{{ expiry_date }}" />
        </div>
        <div id="form_expiry-tooltip" style="display: none">
            {{{ expiry_date_directions }}}
        </div>

        {{# form_timezone }}
            {{# has_error }}
                <div class="control-group error">
                    <div class="controls">
            {{/has_error }}
                        {{# timezone_selector }}
                            {{> timezone }}
                        {{/ timezone_selector }}
            {{# has_error }}
                    </div>
                </div>
            {{/has_error }}
        {{/ form_timezone }}
    </div>

    <div class="fields">
        {{# form_mail_site }}
            {{# has_error }}
                <div class="control-group error">
                    <div class="controls">
            {{/has_error }}
                        <label class="checkbox">
                            <input type="checkbox" name="form_mail_site" value="1" {{# form_mail_site }}checked="checked"{{/ form_mail_site }} />
                            {{{ siteupdate }}}
                        </label>
            {{# has_error }}
                    </div>
                </div>
            {{/has_error }}
        {{/ form_mail_site }}

        {{# does_platform_allows_restricted }}
            {{# form_restricted }}
                {{# has_error }}
                    <div class="control-group error">
                        <div class="controls">
                {{/has_error }}
                            <label class="checkbox">
                                <input type="checkbox" name="form_restricted" value="1" {{# form_restricted }}checked{{/ form_restricted }} />
                                {{ restricted_user }}
                            </label>
                {{# has_error }}
                        </div>
                    </div>
                {{/has_error }}
            {{/ form_restricted }}
        {{/ does_platform_allows_restricted }}

        {{# form_restricted }}
            {{# has_error }}
                <div class="control-group error">
                    <div class="controls">
            {{/has_error }}
                        <label class="checkbox">
                            <input type="checkbox" name="form_send_email" value="1" {{# form_send_email }}checked{{/ form_send_email }}>
                            {{ send_email }}
                        </label>
            {{# has_error }}
                    </div>
                </div>
            {{/has_error }}
        {{/ form_restricted }}
    </div>

    {{> register-purpose-directions }}
    {{/ prefill_values }}

    {{{ extra_plugin_field }}}

{{> register-form-end }}
